;(function($){var transitionEndEvents="webkitTransitionEnd "+"otransitionend "+"oTransitionEnd "+"msTransitionEnd "+"transitionend";var transitionDurationProperties=["transition-duration","-moz-transition-duration","-webkit-transition-duration","-ms-transition-duration","-o-transition-duration","-khtml-transition-duration"];var transitionDelayProperties=["transition-delay","-moz-transition-delay","-webkit-transition-delay","-ms-transition-delay","-o-transition-delay","-khtml-transition-delay"];var parseTime=function(s){s=s.replace(/\s/,"");var v=window.parseFloat(s);return s.match(/[^m]s$/i)?v*1000:v;};var parseProperties=function(el,properties){var duration=0;for(var i=0;i<properties.length;i++){var value=el.css(properties[i]);if(!value)continue;if(value.indexOf(",")!==-1){var values=value.split(",");var durations=(function(){var results=[];for(var i=0;i<values.length;i++){var duration=parseTime(values[i]);results.push(duration);}
return results;})();duration=Math.max.apply(Math,durations);}
else{duration=parseTime(value);}
break;}
return duration;};$.event.special.trend={add:function(handleObj){var el=$(this);var fired=false;el.data("trend",true);var time=parseProperties(el,transitionDurationProperties)+parseProperties(el,transitionDelayProperties)+20;var cb=function(e){if(fired)return;if(e&&e.srcElement!==el[0])return;el.data("trend",false);fired=true;if(handleObj.handler)handleObj.handler();};el.one(transitionEndEvents,cb);el.data("trend-timeout",window.setTimeout(cb,time));},remove:function(handleObj){var el=$(this);el.off(transitionEndEvents);window.clearTimeout(el.data("trend-timeout"));}};})(jQuery);