(function($){var Menu=function(menu,settings){this.$menu=$(menu);this.settings=settings;this.$more=$('\
      <li class="menu-more has-submenu '+settings.parentClass+'"> \
        <a href="#" class="more-link '+settings.parentLinkClass+'">'+settings.moreLinkHtml+'</a> \
        <div class="'+settings.containerClass+'" style="display:none"> \
          <ul class="'+settings.listClass+'" data-menu-more /> \
        </div> \
      </li>');this.init();};Menu.prototype.init=function(){var self=this;$('body').addClass("more-nav-on");self.generateMore();$(window).on('resize',function(){self.generateMore();});};Menu.prototype.update=function(){this.generateMore();return this.$menu;};Menu.prototype.generateMore=function(){var self=this;this.destroyMore();var $items=this.$menu.children();if(!$items.length)return;$.each($items.get().reverse(),function(){var firstOffsetTop=$($items.get()[0]).offset().top;var $currentItem=$(this);if($currentItem.offset().top>firstOffsetTop||self.$more.offset().top>firstOffsetTop){self.$menu.append(self.$more);self.toggleClasses($currentItem);$('[data-menu-more]').prepend($currentItem);}else{return false;}});};Menu.prototype.destroyMore=function(){var $moreChildren=$('[data-menu-more]').children();this.toggleClasses($moreChildren);$moreChildren.appendTo(this.$menu);this.$more.remove();};Menu.prototype.toggleClasses=function($el){$el.toggleClass(this.settings.parentClass).toggleClass(this.settings.childClass).children('a').toggleClass(this.settings.parentLinkClass).toggleClass(this.settings.childLinkClass)};var pluginName='pxuMenu';$.fn[pluginName]=function(options){settings=$.extend({parentClass:'wsite-menu-item-wrap',parentLinkClass:'wsite-menu-item',containerClass:'wsite-menu-wrap',listClass:'wsite-menu',childClass:'wsite-menu-subitem-wrap',childLinkClass:'wsite-menu-subitem',moreLinkHtml:'More',},options);return this.each(function(){if(!$.data(this,pluginName)){$.data(this,pluginName,new Menu(this,settings));}});};}(jQuery));